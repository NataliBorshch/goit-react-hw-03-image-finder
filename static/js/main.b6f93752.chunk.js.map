{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","App.module.css","service/service.js","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","App.js","index.js"],"names":["module","exports","fetchImg","search","page","axios","get","then","response","data","Searchbar","state","query","handleInput","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","reset","this","type","placeholder","onChange","className","styles","search_button","Component","Button","onClick","btn_more","ImageGalleryItem","url","id","alt","large","src","ImageGalleryItem_image","data-source","defaultProps","ImageGallery","items","showModal","map","ele","webformatURL","largeImageURL","modalRoot","document","getElementById","Modal","handleModalKeyDown","event","code","onClose","handleModalOverlay","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","Spinner","color","height","width","App","loading","totalItems","error","modalImg","fetchItems","options","prevState","hits","totalHits","catch","finally","finallyLoading","alert","scrollTo","top","documentElement","scrollHeight","behavior","openModal","nodeName","dataset","source","closeModal","prevProps","shouldRenderButton","length","ReactDOM","render","StrictMode"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,cAAgB,mC,mBCAlCD,EAAOC,QAAU,CAAC,SAAW,2B,mBCA7BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,IAAM,mB,gICUTC,EARE,SAAC,GAA+B,IAAD,IAA5BC,cAA4B,MAAnB,GAAmB,MAAfC,YAAe,MAAR,EAAQ,EAC9C,OAAOC,IACJC,IADI,qCAE2BH,EAF3B,iBAE0CC,EAF1C,gBAHG,qCAGH,yDAIJG,MAAK,SAACC,GAAD,OAAcA,EAASC,S,wBC6BlBC,E,4MAjCbC,MAAQ,CACNC,MAAO,I,EAGTC,YAAc,SAACC,GACb,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,OAAOC,S,EAElCC,aAAe,SAACJ,GACdA,EAAEK,iBACF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,OAC/B,EAAKU,S,EAGPA,MAAQ,WACN,EAAKP,SAAS,CAAEH,MAAO,M,4CAEzB,WACE,OACE,iCACE,uBAAMS,SAAUE,KAAKL,aAArB,UACE,uBACEM,KAAK,OACLC,YAAY,2BACZR,MAAOM,KAAKZ,MAAMC,MAClBc,SAAUH,KAAKV,cAEjB,wBAAQc,UAAWC,IAAOC,cAAeL,KAAK,oB,GA3BhCM,a,iBCaTC,EAZA,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAChB,OACE,wBAAQL,UAAWC,IAAOK,SAAUD,QAASA,EAA7C,0B,kCCFEE,EAAmB,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,IAAKC,EAAqB,EAArBA,GAAIC,EAAiB,EAAjBA,IAAKC,EAAY,EAAZA,MACxC,OACE,oBAAIF,GAAIA,EAAIT,UAAWC,IAAOM,iBAA9B,SACE,qBACEK,IAAKJ,EACLE,IAAKA,EACLV,UAAWC,IAAOY,uBAClBC,cAAaH,OAMrBJ,EAAiBQ,aAAe,CAC9BL,IAAK,SAUQH,QCDAS,EAtBM,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,UAC7B,OACE,oBAAIlB,UAAWC,IAAOe,aAAcX,QAASa,EAA7C,SACGD,EAAME,KAAI,SAACC,GACV,OACE,cAAC,EAAD,CACEZ,IAAKY,EAAIC,aAETZ,GAAIW,EAAIX,GACRE,MAAOS,EAAIE,eAFNF,EAAIX,U,iBCRfc,EAAYC,SAASC,eAAe,cA+B3BC,E,4MArBbC,mBAAqB,SAACC,GACD,WAAfA,EAAMC,MACR,EAAKpC,MAAMqC,W,EAGfC,mBAAqB,SAACH,GAChBA,EAAMvC,SAAWuC,EAAMI,eACzB,EAAKvC,MAAMqC,W,uDAdf,WACEG,OAAOC,iBAAiB,UAAWtC,KAAK+B,sB,kCAE1C,WACEM,OAAOE,oBAAoB,UAAWvC,KAAK+B,sB,oBAc7C,WACE,OAAOS,uBACL,qBAAKpC,UAAWC,IAAOoC,QAAShC,QAAST,KAAKmC,mBAA9C,SACE,qBAAK/B,UAAWC,IAAOyB,MAAvB,SAA+B9B,KAAKH,MAAM6C,aAE5Cf,O,GAxBcpB,a,yBCFCoC,E,4JACnB,WACE,OAAO,cAAC,IAAD,CAAQ1C,KAAK,OAAO2C,MAAM,UAAUC,OAAQ,GAAIC,MAAO,S,GAF7BvC,a,iBC6FtBwC,E,4MAtFb3D,MAAQ,CACNP,KAAM,EACNwC,MAAO,GACPzC,OAAQ,GACRoE,SAAS,EACTC,WAAY,EACZC,MAAO,KACPC,SAAU,GACV7B,WAAW,G,EASbxB,SAAW,SAACT,GACV,EAAKG,SAAS,CAAEX,KAAM,EAAGwC,MAAO,GAAIzC,OAAQS,K,EAG9C+D,WAAa,WAAO,IAAD,EACQ,EAAKhE,MACxBiE,EAAU,CACdzE,OAHe,EACTA,OAGNC,KAJe,EACDA,MAMhB,EAAKW,SAAS,CAAEwD,SAAS,IACzBrE,EAAS0E,GACNrE,MAAK,SAACE,GACL,EAAKM,UAAS,SAAC8D,GAAD,MAAgB,CAC5BzE,KAAMyE,EAAUzE,KAAO,EACvBwC,MAAM,GAAD,mBAAMiC,EAAUjC,OAAhB,YAA0BnC,EAAKqE,OACpCN,WAAY/D,EAAKsE,iBAGpBC,OAAM,SAACP,GAAD,OAAW,EAAK1D,SAAS,CAAE0D,aACjCQ,QAAQ,EAAKC,iB,EAElBA,eAAiB,WACe,IAA1B,EAAKvE,MAAM6D,YACbW,MAAM,wCAERvB,OAAOwB,SAAS,CACdC,IAAKlC,SAASmC,gBAAgBC,aAC9BC,SAAU,WAEZ,EAAKzE,SAAS,CAAEwD,SAAS,K,EAG3BkB,UAAY,SAAC3E,GACe,QAAtBA,EAAEE,OAAO0E,UACX,EAAK3E,UAAS,iBAAO,CACnB8B,WAAW,EACX6B,SAAU5D,EAAEE,OAAO2E,QAAQC,Y,EAKjCC,WAAa,WACX,EAAK9E,UAAS,iBAAO,CACnB8B,WAAW,O,wDAnDf,SAAmBiD,EAAWjB,GACxBA,EAAU1E,SAAWoB,KAAKZ,MAAMR,QAClCoB,KAAKoD,e,oBAqDT,WAAU,IAAD,EACqDpD,KAAKZ,MAAzD4D,EADD,EACCA,QAAS3B,EADV,EACUA,MAAO4B,EADjB,EACiBA,WAAY3B,EAD7B,EAC6BA,UAAW6B,EADxC,EACwCA,SACzCqB,EACJnD,EAAMoD,QAAU,IAAMpD,EAAMoD,SAAWxB,IAAeD,EACxD,OACE,sBAAK5C,UAAWC,IAAO0C,IAAvB,UACE,cAAC,EAAD,CAAWjD,SAAUE,KAAKF,WAC1B,cAAC,EAAD,CAAcuB,MAAOA,EAAOC,UAAWtB,KAAKkE,YAC3CM,GAAsB,cAAC,EAAD,CAAQ/D,QAAST,KAAKoD,aAC5CJ,GAAW,cAAC,EAAD,IACX1B,GACC,cAAC,EAAD,CAAOY,QAASlC,KAAKsE,WAArB,SACE,qBAAKtD,IAAKmC,EAAUrC,IAAI,c,GA/ElBP,aCNlBmE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFhD,SAASC,eAAe,W","file":"static/js/main.b6f93752.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1tHui\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3QI1O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3a4-X\",\"Modal\":\"Modal_Modal__2yeOh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_button\":\"Searchbar_search_button__dwNiy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn_more\":\"Button_btn_more__3oaCD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__s1FIT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3ZntX\"};","import axios from \"axios\";\r\nconst key = \"20579832-dcfce4d3159167d27b56de5b7\";\r\n\r\nconst fetchImg = ({ search = \"\", page = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${search}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data);\r\n};\r\n\r\nexport default fetchImg;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleInput = (e) => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ query: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleInput}\r\n          />\r\n          <button className={styles.search_button} type=\"submit\"></button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button className={styles.btn_more} onClick={onClick}>\r\n      Loader More\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\nconst ImageGalleryItem = ({ url, id, alt, large }) => {\r\n  return (\r\n    <li id={id} className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={url}\r\n        alt={alt}\r\n        className={styles.ImageGalleryItem_image}\r\n        data-source={large}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  alt: \"photo\",\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  large: PropTypes.string.isRequired,\r\n  alt: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ items, showModal }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery} onClick={showModal}>\r\n      {items.map((ele) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            url={ele.webformatURL}\r\n            key={ele.id}\r\n            id={ele.id}\r\n            large={ele.largeImageURL}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  showModal: PropTypes.func.isRequired,\r\n  items: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleModalKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleModalKeyDown);\r\n  }\r\n\r\n  handleModalKeyDown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleModalOverlay = (event) => {\r\n    if (event.target === event.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleModalOverlay}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default class Spinner extends Component {\r\n  render() {\r\n    return <Loader type=\"Bars\" color=\"#646de6\" height={80} width={80} />;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport fetchImg from \"./service/service\";\nimport Searchbar from \"./components/Searchbar\";\nimport Button from \"./components/Button\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Modal from \"./components/Modal\";\nimport Spinner from \"./components/Loader/Loader\";\n\nimport styles from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    page: 1,\n    items: [],\n    search: \"\",\n    loading: false,\n    totalItems: 0,\n    error: null,\n    modalImg: \"\",\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.fetchItems();\n    }\n  }\n\n  onSubmit = (query) => {\n    this.setState({ page: 1, items: [], search: query });\n  };\n\n  fetchItems = () => {\n    const { search, page } = this.state;\n    const options = {\n      search,\n      page,\n    };\n\n    this.setState({ loading: true });\n    fetchImg(options)\n      .then((data) => {\n        this.setState((prevState) => ({\n          page: prevState.page + 1,\n          items: [...prevState.items, ...data.hits],\n          totalItems: data.totalHits,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(this.finallyLoading);\n  };\n  finallyLoading = () => {\n    if (this.state.totalItems === 0) {\n      alert(\"Sorry, but  your  request  incorrect\");\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n    this.setState({ loading: false });\n  };\n\n  openModal = (e) => {\n    if (e.target.nodeName === \"IMG\") {\n      this.setState(() => ({\n        showModal: true,\n        modalImg: e.target.dataset.source,\n      }));\n    }\n  };\n\n  closeModal = () => {\n    this.setState(() => ({\n      showModal: false,\n    }));\n  };\n\n  render() {\n    const { loading, items, totalItems, showModal, modalImg } = this.state;\n    const shouldRenderButton =\n      items.length >= 12 && items.length !== totalItems && !loading;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery items={items} showModal={this.openModal} />\n        {shouldRenderButton && <Button onClick={this.fetchItems} />}\n        {loading && <Spinner />}\n        {showModal && (\n          <Modal onClose={this.closeModal}>\n            <img src={modalImg} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}